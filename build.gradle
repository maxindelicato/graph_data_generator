group 'pattern'

apply plugin: 'java'
apply plugin: 'idea'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile 'commons-cli:commons-cli:1.3.1'
    compile 'it.unimi.dsi:fastutil:7.0.12'
    compile 'net.iot-solutions.graphdb:jcypher:3.3.1'
    compile 'org.projectlombok:lombok:1.16.8'
    testCompile group: 'junit', name: 'junit', version: '4.11'
    testCompile'org.mockito:mockito-all:1.10.19'
    testCompile'com.github.tomakehurst:wiremock:1.57'
}

jar {
//    dependsOn configurations.runtime
    from {
        (configurations.compile).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes 'Main-Class': 'Application'
    }
    destinationDir= file('target')
    archiveName='service.jar'
}

test {
    afterTest { desc, result ->
        println "Executing test ${desc.name} [${desc.className}] with result: ${result.resultType}"
    }
}